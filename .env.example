# ============================================================================
# LangGraph AWS Template - Environment Configuration
# ============================================================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env file to version control
# ============================================================================

# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------
APP_NAME="LangGraph AWS Template"
ENVIRONMENT=development  # development, staging, production
DEBUG=true
VERSION=0.1.0

# ----------------------------------------------------------------------------
# AWS Configuration
# ----------------------------------------------------------------------------
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=123456789012  # Optional, can be retrieved dynamically

# AWS Bedrock
AWS_BEDROCK_MODEL_ID=anthropic.claude-3-5-sonnet-20241022-v2:0
AWS_BEDROCK_RUNTIME_REGION=us-east-1

# DynamoDB (optional - for local development)
# AWS_DYNAMODB_ENDPOINT_URL=http://localhost:8000

# S3 Buckets
AWS_S3_BUCKET_ARTIFACTS=langgraph-artifacts
AWS_S3_BUCKET_DOCUMENTS=langgraph-documents

# Secrets Manager
AWS_SECRETS_MANAGER_PREFIX=langgraph/

# ----------------------------------------------------------------------------
# API Configuration
# ----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true

# CORS
API_CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]
API_CORS_ALLOW_CREDENTIALS=true

# Security
API_SECRET_KEY=change-me-to-a-secure-random-string-at-least-32-chars-long
API_ACCESS_TOKEN_EXPIRE_MINUTES=60
API_API_KEY_HEADER=X-API-Key

# Rate Limiting
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_REQUESTS=100
API_RATE_LIMIT_WINDOW_SECONDS=60

# ----------------------------------------------------------------------------
# Database Configuration (DynamoDB)
# ----------------------------------------------------------------------------
DB_AGENTS_TABLE=langgraph-agents
DB_CHECKPOINTS_TABLE=langgraph-checkpoints
DB_CACHE_TABLE=langgraph-cache

# Table Configuration
DB_BILLING_MODE=PAY_PER_REQUEST  # or PROVISIONED
DB_READ_CAPACITY_UNITS=5
DB_WRITE_CAPACITY_UNITS=5

# Connection Settings
DB_MAX_RETRIES=3
DB_TIMEOUT_SECONDS=30

# ----------------------------------------------------------------------------
# Vector Database Configuration
# ----------------------------------------------------------------------------
VECTORDB_PROVIDER=chromadb  # chromadb, faiss, pinecone, weaviate

# ChromaDB
VECTORDB_CHROMA_HOST=localhost
VECTORDB_CHROMA_PORT=8000
VECTORDB_CHROMA_COLLECTION=langgraph-documents

# FAISS
VECTORDB_FAISS_INDEX_PATH=./data/faiss_index

# Embeddings
VECTORDB_EMBEDDING_MODEL=amazon.titan-embed-text-v2:0
VECTORDB_EMBEDDING_DIMENSION=1024

# Search
VECTORDB_TOP_K=5
VECTORDB_SIMILARITY_THRESHOLD=0.7

# ----------------------------------------------------------------------------
# Cache Configuration (Redis)
# ----------------------------------------------------------------------------
CACHE_ENABLED=true
CACHE_PROVIDER=redis  # redis, memory

# Redis
CACHE_REDIS_HOST=localhost
CACHE_REDIS_PORT=6379
CACHE_REDIS_DB=0
# CACHE_REDIS_PASSWORD=your-redis-password  # Uncomment if password required
CACHE_REDIS_SSL=false

# Cache Settings
CACHE_TTL_SECONDS=3600
CACHE_MAX_MEMORY_MB=512

# Semantic Cache
CACHE_SEMANTIC_CACHE_ENABLED=true
CACHE_SEMANTIC_SIMILARITY_THRESHOLD=0.95

# ----------------------------------------------------------------------------
# LangGraph Configuration
# ----------------------------------------------------------------------------
LANGGRAPH_CHECKPOINT_BACKEND=dynamodb  # dynamodb, memory, sqlite
LANGGRAPH_CHECKPOINT_NAMESPACE=langgraph

# Execution Limits
LANGGRAPH_MAX_ITERATIONS=25
LANGGRAPH_MAX_EXECUTION_TIME_SECONDS=300
LANGGRAPH_MAX_CONCURRENT_EXECUTIONS=10

# Streaming
LANGGRAPH_STREAM_MODE=values  # values, updates, debug

# ----------------------------------------------------------------------------
# Agent Configuration
# ----------------------------------------------------------------------------
# Model Parameters
AGENT_TEMPERATURE=0.7
AGENT_MAX_TOKENS=4096
AGENT_TOP_P=1.0

# Timeouts & Retries
AGENT_TIMEOUT_SECONDS=60
AGENT_MAX_RETRIES=3
AGENT_RETRY_DELAY_SECONDS=1.0

# Context Management
AGENT_MAX_CONTEXT_LENGTH=100000

# Tool Configuration
AGENT_MAX_TOOL_ITERATIONS=10

# ----------------------------------------------------------------------------
# Observability Configuration
# ----------------------------------------------------------------------------
# Tracing
OBSERVABILITY_TRACING_ENABLED=true
# OBSERVABILITY_TRACING_ENDPOINT=http://localhost:4318  # OpenTelemetry endpoint
OBSERVABILITY_TRACING_SAMPLE_RATE=1.0

# Metrics
OBSERVABILITY_METRICS_ENABLED=true
OBSERVABILITY_METRICS_PORT=9090

# Logging
OBSERVABILITY_LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
OBSERVABILITY_LOG_FORMAT=json  # json, text

# CloudWatch
OBSERVABILITY_CLOUDWATCH_ENABLED=false
OBSERVABILITY_CLOUDWATCH_LOG_GROUP=/aws/langgraph/application

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------
# Core Features
FEATURE_ENABLE_RAG=true
FEATURE_ENABLE_CACHING=true
FEATURE_ENABLE_STREAMING=true

# Advanced Features
FEATURE_ENABLE_MULTI_AGENT=true
FEATURE_ENABLE_HUMAN_IN_LOOP=false
FEATURE_ENABLE_TOOL_CALLING=true

# Experimental Features
FEATURE_ENABLE_QUERY_REWRITING=false
FEATURE_ENABLE_ADAPTIVE_RETRIEVAL=false

# ============================================================================
# Notes:
# ============================================================================
# 1. Change API_SECRET_KEY to a secure random string (min 32 characters)
# 2. Update AWS_ACCOUNT_ID with your actual AWS account ID
# 3. Adjust bucket names to match your S3 buckets
# 4. Set ENVIRONMENT to 'production' when deploying
# 5. Disable DEBUG mode in production
# 6. Configure Redis password if authentication is required
# 7. Set appropriate rate limits for your use case
# ============================================================================
